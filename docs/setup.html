<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>SETUP</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #cfcfc2; background-color: #232629; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #cfcfc2; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #2980b9; } /* Attribute */
    code span.bn { color: #f67400; } /* BaseN */
    code span.bu { color: #7f8c8d; } /* BuiltIn */
    code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #3daee9; } /* Char */
    code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
    code span.co { color: #7a7c7d; } /* Comment */
    code span.cv { color: #7f8c8d; } /* CommentVar */
    code span.do { color: #a43340; } /* Documentation */
    code span.dt { color: #2980b9; } /* DataType */
    code span.dv { color: #f67400; } /* DecVal */
    code span.er { color: #da4453; text-decoration: underline; } /* Error */
    code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
    code span.fl { color: #f67400; } /* Float */
    code span.fu { color: #8e44ad; } /* Function */
    code span.im { color: #27ae60; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
    code span.op { color: #cfcfc2; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #f44f4f; } /* String */
    code span.va { color: #27aeae; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="https://cdr2.com/pandoc.css" />
</head>
<body>
<h1 id="spynet-ar---development-environment-setup">SpyNet AR -
Development Environment Setup</h1>
<p>This guide will help you set up your local development environment
for SpyNet AR.</p>
<h2 id="prerequisites">Prerequisites</h2>
<h3 id="required-software">Required Software</h3>
<ul>
<li><strong>Node.js</strong>: v22.x or later (<a
href="https://nodejs.org/">Download</a>)</li>
<li><strong>pnpm</strong>: v9.x or later (install:
<code>npm install -g pnpm</code>)</li>
<li><strong>Python</strong>: 3.11 or later (<a
href="https://www.python.org/">Download</a>)</li>
<li><strong>uv</strong>: Python package manager (<a
href="https://github.com/astral-sh/uv">Install</a>)</li>
<li><strong>Docker</strong>: For running local services (<a
href="https://www.docker.com/">Download</a>)</li>
<li><strong>Docker Compose</strong>: v2.x or later (included with Docker
Desktop)</li>
<li><strong>PostgreSQL Client</strong>: psql command-line tool</li>
<li><strong>Git</strong>: For version control</li>
</ul>
<h3 id="recommended-software">Recommended Software</h3>
<ul>
<li><strong>bun</strong>: Fast JavaScript runtime (optional, for mobile
dev)</li>
<li><strong>VS Code</strong>: With recommended extensions (see
below)</li>
<li><strong>Postman</strong> or <strong>Insomnia</strong>: For API
testing</li>
<li><strong>TablePlus</strong> or <strong>pgAdmin</strong>: For database
management</li>
</ul>
<h2 id="initial-setup">Initial Setup</h2>
<h3 id="clone-the-repository">1. Clone the Repository</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/yourusername/spynet-ar.git</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> spynet-ar</span></code></pre></div>
<h3 id="install-dependencies">2. Install Dependencies</h3>
<h4 id="backend-node.js-services">Backend (Node.js services)</h4>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> install</span></code></pre></div>
<h4 id="ai-orchestrator-python">AI Orchestrator (Python)</h4>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> services/orchestrator</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">uv</span> venv</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">uv</span> pip install <span class="at">-r</span> requirements.txt</span></code></pre></div>
<h4 id="mobile-app">Mobile App</h4>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> apps/mobile</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">bun</span> install  <span class="co"># or pnpm install</span></span></code></pre></div>
<h3 id="environment-variables">3. Environment Variables</h3>
<p>Create <code>.env</code> files for each service:</p>
<h4 id="root-.env">Root <code>.env</code></h4>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> .env.example .env</span></code></pre></div>
<p>Edit <code>.env</code>:</p>
<pre class="env"><code># Database
DATABASE_URL=postgresql://spynet:spynet@localhost:5432/spynet
POSTGRES_USER=spynet
POSTGRES_PASSWORD=spynet
POSTGRES_DB=spynet

# Redis
REDIS_URL=redis://localhost:6379

# ClickHouse
CLICKHOUSE_URL=http://localhost:8123
CLICKHOUSE_DATABASE=spynet

# MinIO (S3-compatible)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=spynet

# Auth
JWT_SECRET=your-super-secret-jwt-key-change-this
JWT_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=30d

# LLM
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4
LLM_ORCHESTRATOR_URL=http://localhost:8000

# Environment
NODE_ENV=development
LOG_LEVEL=debug</code></pre>
<h4 id="orchestrator-.env">Orchestrator <code>.env</code></h4>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> services/orchestrator</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> .env.example .env</span></code></pre></div>
<p>Edit <code>services/orchestrator/.env</code>:</p>
<pre class="env"><code>OPENAI_API_KEY=your-openai-api-key
DATABASE_URL=postgresql://spynet:spynet@localhost:5432/spynet
REDIS_URL=redis://localhost:6379
ENVIRONMENT=development
LOG_LEVEL=DEBUG</code></pre>
<h4 id="mobile-.env">Mobile <code>.env</code></h4>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> apps/mobile</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> .env.example .env</span></code></pre></div>
<p>Edit <code>apps/mobile/.env</code>:</p>
<pre class="env"><code>API_URL=http://localhost:3000
MAPBOX_TOKEN=your-mapbox-token
ENVIRONMENT=development</code></pre>
<h3 id="start-local-services">4. Start Local Services</h3>
<p>Use Docker Compose to start PostgreSQL, Redis, ClickHouse, and
MinIO:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run dev:stack</span></code></pre></div>
<p>This starts: - PostgreSQL on port 5432 - Redis on port 6379 -
ClickHouse on port 8123 - MinIO on port 9000 (console: 9001)</p>
<p>Verify services are running:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose ps</span></code></pre></div>
<h3 id="database-setup">5. Database Setup</h3>
<h4 id="create-database-and-extensions">Create database and
extensions</h4>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run db:setup</span></code></pre></div>
<p>Or manually:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">psql</span> <span class="at">-h</span> localhost <span class="at">-U</span> spynet <span class="at">-d</span> spynet <span class="at">-f</span> scripts/db/init.sql</span></code></pre></div>
<h4 id="run-migrations">Run migrations</h4>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run db:migrate</span></code></pre></div>
<h4 id="seed-initial-data">Seed initial data</h4>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run db:seed</span></code></pre></div>
<p>This creates: - Three factions (Obsidian Order, Aurora Syndicate,
Citadel Directorate) - Sample zones in San Francisco - Test QR codes -
Sample missions</p>
<h3 id="verify-database-setup">6. Verify Database Setup</h3>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">psql</span> <span class="at">-h</span> localhost <span class="at">-U</span> spynet <span class="at">-d</span> spynet <span class="at">-c</span> <span class="st">&quot;SELECT name FROM factions;&quot;</span></span></code></pre></div>
<p>You should see the three factions listed.</p>
<h2 id="running-the-services">Running the Services</h2>
<h3 id="start-all-services">Start All Services</h3>
<p>From the root directory:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run dev</span></code></pre></div>
<p>This starts: - API Gateway on port 3000 - Mission Service on port
3001 - Player Service on port 3002 - Faction Service on port 3003 - Zone
Service on port 3004</p>
<h3 id="start-individual-services">Start Individual Services</h3>
<h4 id="api-gateway">API Gateway</h4>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> services/api</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run dev</span></code></pre></div>
<h4 id="ai-orchestrator-python-1">AI Orchestrator (Python)</h4>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> services/orchestrator</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">uv</span> run uvicorn orchestrator.app:app <span class="at">--reload</span> <span class="at">--port</span> 8000</span></code></pre></div>
<h4 id="mobile-app-1">Mobile App</h4>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> apps/mobile</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="ex">bun</span> run start  <span class="co"># Expo dev server</span></span></code></pre></div>
<p>For iOS:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">bun</span> run ios</span></code></pre></div>
<p>For Android:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">bun</span> run android</span></code></pre></div>
<h4 id="web-app">Web App</h4>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> apps/web</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run dev</span></code></pre></div>
<p>Access at: http://localhost:3000</p>
<h2 id="development-workflow">Development Workflow</h2>
<h3 id="database-migrations">Database Migrations</h3>
<p>Create a new migration:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run db:migration:create <span class="st">&quot;add_player_stats&quot;</span></span></code></pre></div>
<p>Run pending migrations:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run db:migrate</span></code></pre></div>
<p>Rollback last migration:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run db:migrate:rollback</span></code></pre></div>
<h3 id="testing">Testing</h3>
<p>Run all tests:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run test</span></code></pre></div>
<p>Run tests for specific service:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> services/missions</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run test</span></code></pre></div>
<p>Run integration tests:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run test:integration</span></code></pre></div>
<p>Run E2E tests:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run test:e2e</span></code></pre></div>
<h3 id="code-quality">Code Quality</h3>
<p>Run linting:</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run lint</span></code></pre></div>
<p>Run type checking:</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run typecheck</span></code></pre></div>
<p>Format code:</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> run format</span></code></pre></div>
<h3 id="debugging">Debugging</h3>
<h4 id="api-services">API Services</h4>
<p>Use VS Codeâ€™s built-in debugger. Launch configurations are in
<code>.vscode/launch.json</code>.</p>
<h4 id="database-queries">Database Queries</h4>
<p>Enable query logging in PostgreSQL:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to docker-compose.yml postgres service</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="ex">command:</span> postgres <span class="at">-c</span> log_statement=all</span></code></pre></div>
<p>View logs:</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose logs <span class="at">-f</span> postgres</span></code></pre></div>
<h4 id="redis">Redis</h4>
<p>Monitor Redis commands:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose exec redis redis-cli MONITOR</span></code></pre></div>
<h2 id="vs-code-setup">VS Code Setup</h2>
<h3 id="recommended-extensions">Recommended Extensions</h3>
<p>Install these extensions for the best development experience:</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;recommendations&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;dbaeumer.vscode-eslint&quot;</span><span class="ot">,</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;esbenp.prettier-vscode&quot;</span><span class="ot">,</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;ms-python.python&quot;</span><span class="ot">,</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;ms-python.vscode-pylance&quot;</span><span class="ot">,</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;bradlc.vscode-tailwindcss&quot;</span><span class="ot">,</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;prisma.prisma&quot;</span><span class="ot">,</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;ms-azuretools.vscode-docker&quot;</span><span class="ot">,</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;streetsidesoftware.code-spell-checker&quot;</span><span class="ot">,</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;eamodio.gitlens&quot;</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="workspace-settings">Workspace Settings</h3>
<p>Create <code>.vscode/settings.json</code>:</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;editor.formatOnSave&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;editor.defaultFormatter&quot;</span><span class="fu">:</span> <span class="st">&quot;esbenp.prettier-vscode&quot;</span><span class="fu">,</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;editor.codeActionsOnSave&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;source.fixAll.eslint&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;[python]&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;editor.defaultFormatter&quot;</span><span class="fu">:</span> <span class="st">&quot;ms-python.black-formatter&quot;</span><span class="fu">,</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;editor.formatOnSave&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;typescript.tsdk&quot;</span><span class="fu">:</span> <span class="st">&quot;node_modules/typescript/lib&quot;</span><span class="fu">,</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;files.exclude&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;**/.git&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;**/.DS_Store&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;**/node_modules&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;**/__pycache__&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="postgresql-connection-issues">PostgreSQL Connection Issues</h3>
<div class="sourceCode" id="cb40"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if PostgreSQL is running</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose ps postgres</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check logs</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose logs postgres</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Restart PostgreSQL</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose restart postgres</span></code></pre></div>
<h3 id="redis-connection-issues">Redis Connection Issues</h3>
<div class="sourceCode" id="cb41"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test Redis connection</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose exec redis redis-cli ping</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Should return: PONG</span></span></code></pre></div>
<h3 id="port-conflicts">Port Conflicts</h3>
<p>If ports are already in use, modify
<code>docker-compose.yml</code>:</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">postgres</span><span class="kw">:</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;5433:5432&quot;</span><span class="co">  # Change 5432 to 5433</span></span></code></pre></div>
<p>Update <code>DATABASE_URL</code> in <code>.env</code>
accordingly.</p>
<h3 id="node-modules-issues">Node Modules Issues</h3>
<div class="sourceCode" id="cb43"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clear and reinstall</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> node_modules</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pnpm</span> install</span></code></pre></div>
<h3 id="python-virtual-environment-issues">Python Virtual Environment
Issues</h3>
<div class="sourceCode" id="cb44"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Recreate virtual environment</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> services/orchestrator</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> .venv</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="ex">uv</span> venv</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="ex">uv</span> pip install <span class="at">-r</span> requirements.txt</span></code></pre></div>
<h3 id="docker-issues">Docker Issues</h3>
<div class="sourceCode" id="cb45"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean up Docker resources</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose down <span class="at">-v</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> system prune <span class="at">-a</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Rebuild images</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose build <span class="at">--no-cache</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> compose up <span class="at">-d</span></span></code></pre></div>
<h2 id="mobile-development-setup">Mobile Development Setup</h2>
<h3 id="ios-setup-macos-only">iOS Setup (macOS only)</h3>
<ol type="1">
<li>Install Xcode from the Mac App Store</li>
<li>Install Xcode Command Line Tools:</li>
</ol>
<div class="sourceCode" id="cb46"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">xcode-select</span> <span class="at">--install</span></span></code></pre></div>
<ol start="3" type="1">
<li>Install CocoaPods:</li>
</ol>
<div class="sourceCode" id="cb47"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> gem install cocoapods</span></code></pre></div>
<ol start="4" type="1">
<li>Install pods:</li>
</ol>
<div class="sourceCode" id="cb48"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> apps/mobile/ios</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pod</span> install</span></code></pre></div>
<h3 id="android-setup">Android Setup</h3>
<ol type="1">
<li>Install <a href="https://developer.android.com/studio">Android
Studio</a></li>
<li>Install Android SDK (API 33 or higher)</li>
<li>Set environment variables:</li>
</ol>
<div class="sourceCode" id="cb49"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to ~/.bashrc or ~/.zshrc</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">ANDROID_HOME</span><span class="op">=</span><span class="va">$HOME</span>/Library/Android/sdk</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="va">$PATH</span>:<span class="va">$ANDROID_HOME</span>/emulator</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="va">$PATH</span>:<span class="va">$ANDROID_HOME</span>/tools</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="va">$PATH</span>:<span class="va">$ANDROID_HOME</span>/tools/bin</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="va">$PATH</span>:<span class="va">$ANDROID_HOME</span>/platform-tools</span></code></pre></div>
<h3 id="expo-setup">Expo Setup</h3>
<div class="sourceCode" id="cb50"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install Expo CLI globally</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-g</span> expo-cli</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Login to Expo</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="ex">expo</span> login</span></code></pre></div>
<h2 id="api-testing">API Testing</h2>
<h3 id="using-curl">Using curl</h3>
<div class="sourceCode" id="cb51"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Health check</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> http://localhost:3000/health</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create player (requires auth)</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-X</span> POST http://localhost:3000/v1/players <span class="dt">\</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">-H</span> <span class="st">&quot;Content-Type: application/json&quot;</span> <span class="dt">\</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">-d</span> <span class="st">&#39;{&quot;handle&quot;: &quot;agent007&quot;, &quot;email&quot;: &quot;agent@spynet.com&quot;}&#39;</span></span></code></pre></div>
<h3 id="using-postman">Using Postman</h3>
<p>Import the Postman collection:</p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">open</span> docs/api/spynet-ar.postman_collection.json</span></code></pre></div>
<h2 id="next-steps">Next Steps</h2>
<ol type="1">
<li>Read <a href="gameplay.md">docs/gameplay.md</a> for game
mechanics</li>
<li>Review <a href="tech-stack.md">docs/tech-stack.md</a> for
architecture details</li>
<li>Check <a href="api/README.md">docs/api/README.md</a> for API
documentation</li>
<li>Explore <a href="schemas/database.md">docs/schemas/database.md</a>
for database schema</li>
<li>Review <a href="ai-orchestration.md">docs/ai-orchestration.md</a>
for AI system details</li>
</ol>
<h2 id="getting-help">Getting Help</h2>
<ul>
<li><strong>Documentation</strong>: Check the <code>/docs</code>
folder</li>
<li><strong>Issues</strong>: Create an issue on GitHub</li>
<li><strong>Team Chat</strong>: Join our Slack/Discord (link TBD)</li>
<li><strong>Code Review</strong>: Submit PRs for review</li>
</ul>
<h2 id="production-deployment">Production Deployment</h2>
<p>For production deployment instructions, see <a
href="DEPLOYMENT.md">docs/DEPLOYMENT.md</a>.</p>
</body>
</html>
